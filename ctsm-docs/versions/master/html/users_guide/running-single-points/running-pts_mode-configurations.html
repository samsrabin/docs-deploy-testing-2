

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.6.4. Running a single point using global data - PTS_MODE &mdash; ctsm CTSM master documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=a16e412b" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=c0caff61"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.7. Troubleshooting" href="../trouble-shooting/index.html" />
    <link rel="prev" title="1.6.3. Running Single Point Configurations" href="running-single-point-configurations.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ctsm
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">1. CTSM1 User’s Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview/index.html">1.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setting-up-and-running-a-case/index.html">1.2. Setting Up and Running a Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="../using-clm-tools/index.html">1.3. Using CLM tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adding-new-resolutions/index.html">1.4. Adding New Resolutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-special-cases/index.html">1.5. Running Special Cases</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">1.6. Running Single Point and Regional Cases</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="single-point-and-regional-grid-configurations.html">1.6.1. Single and Regional Grid Configurations</a></li>
<li class="toctree-l3"><a class="reference internal" href="running-single-point-subset-data.html">1.6.2. Running a single point using global data</a></li>
<li class="toctree-l3"><a class="reference internal" href="running-single-point-configurations.html">1.6.3. Running Single Point Configurations</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.6.4. Running a single point using global data - PTS_MODE</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#running-in-a-single-processor">1.6.4.1. Running in a single processor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../trouble-shooting/index.html">1.7. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/index.html">1.8. Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../using-mesh-maker/index.html">1.9. Using mesh_maker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working-with-documentation/index.html">1.10. Working with CTSM Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tech_note/index.html">2. CLM Technical Note</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lilac/index.html">3. CTSM-LILAC User’s Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ctsm</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">1. </span>CTSM1 User’s Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">1.6. </span>Running Single Point and Regional Cases</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1.6.4. </span>Running a single point using global data - PTS_MODE</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/users_guide/running-single-points/running-pts_mode-configurations.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="running-a-single-point-using-global-data-pts-mode">
<span id="pts-mode"></span><h1><span class="section-number">1.6.4. </span>Running a single point using global data - PTS_MODE<a class="headerlink" href="#running-a-single-point-using-global-data-pts-mode" title="Link to this heading"></a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> has been mostly deprecated in favor of <code class="docutils literal notranslate"><span class="pre">subset_data</span></code> (Sect. <a class="reference internal" href="running-single-point-subset-data.html#single-point-subset-data"><span class="std std-numref">1.6.2</span></a>). You should only consider using it if you are using the Single Column Atmospheric Model (SCAM).</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> enables you to run the model using global datasets, but just picking a single point from those datasets and operating on it. It can be a very quick way to do fast simulations and get a quick turnaround.</p>
<p>To setup a <code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> simulation you use the <code class="docutils literal notranslate"><span class="pre">-pts_lat</span></code> and <code class="docutils literal notranslate"><span class="pre">-pts_lon</span></code> arguments to <code class="docutils literal notranslate"><span class="pre">cime/scripts/create_newcase</span></code> to give the latitude and longitude of the point you want to simulate for (the code will pick the point on the global grid nearest to the point you give. Here’s an example to setup a simulation for the nearest point at 2-degree resolution to Boulder Colorado.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">cd</span> <span class="n">cime</span><span class="o">/</span><span class="n">scripts</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">create_newcase</span> <span class="o">-</span><span class="n">case</span> <span class="n">testPTS_MODE</span> <span class="o">-</span><span class="n">res</span> <span class="n">f19_g17_gl4</span> <span class="o">-</span><span class="n">compset</span> <span class="n">I1850Clm50BgcCropCru</span> <span class="o">-</span><span class="n">pts_lat</span> <span class="mf">40.0</span> <span class="o">-</span><span class="n">pts_lon</span> <span class="o">-</span><span class="mi">105</span>
<span class="o">&gt;</span> <span class="n">cd</span> <span class="n">testPTS_MODE</span>

<span class="c1"># We make sure the model will start up cold rather than using initial conditions</span>
<span class="o">&gt;</span> <span class="o">./</span><span class="n">xmlchange</span> <span class="n">CLM_FORCE_COLDSTART</span><span class="o">=</span><span class="n">on</span><span class="p">,</span><span class="n">RUN_TYPE</span><span class="o">=</span><span class="n">startup</span>
</pre></div>
</div>
<p>Then setup, build and run as normal. We make sure initial conditions are NOT used since <code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> currently CAN NOT run with initial conditions.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> currently does NOT restart nor is it able to startup from global initial condition files. This is a known issue we are unlikely to fix.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can change the point you are simulating for at run-time by changing the values of <code class="docutils literal notranslate"><span class="pre">PTS_LAT</span></code> and <code class="docutils literal notranslate"><span class="pre">PTS_LON</span></code> in the <code class="docutils literal notranslate"><span class="pre">env_run.xml</span></code> file.</p>
</div>
<section id="running-in-a-single-processor">
<h2><span class="section-number">1.6.4.1. </span>Running in a single processor<a class="headerlink" href="#running-in-a-single-processor" title="Link to this heading"></a></h2>
<p>Note, that when running with <code class="docutils literal notranslate"><span class="pre">PTS_MODE</span></code> the number of processors is automatically set to one. When running a single grid point you can only use a single processor. You might also want to set the <code class="docutils literal notranslate"><span class="pre">env_build.xml</span></code> variable: <code class="docutils literal notranslate"><span class="pre">MPILIB=mpi-serial</span></code> to <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> so that you can also run interactively without having to use MPI to start up your job.</p>
<p>On many machines, batch queues have a minimum number of nodes or processors that can be used. On these machines you may have to change the queue and possibly the time-limits of the job, to get it to run in the batch queue. On the NCAR machine, cheyenne, this is done for you automatically, and the “share” or “caldera” queue is used for such single-processor simulations. For single point mode you also may want to consider using a smaller workstation or cluster, rather than a super-computer, because you can’t take advantage of the multi-processing power of the super-computer anyway.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="running-single-point-configurations.html" class="btn btn-neutral float-left" title="1.6.3. Running Single Point Configurations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../trouble-shooting/index.html" class="btn btn-neutral float-right" title="1.7. Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, UCAR.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     
<script>var version_json_loc = "../../../../versions.json";</script>


</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    Version: master
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    
    
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="../../../../versions/master/html/index.html">master</a></dd>
      
        <dd><a href="../../../../versions/release-clm5.0/html/index.html">release-clm5.0</a></dd>
      
    </dl>
    
    <br>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>